akka {
  loglevel = DEBUG

  routes {
    # If ask takes more time than this to complete the request is failed
    ask-timeout = 5s
  }

  actor {
    provider = cluster

    serialization-bindings {
      "com.telegraft.rafktor.CborSerializable" = jackson-cbor
    }
  }
  #management-config
  management {
    cluster.bootstrap {
      contact-point-discovery {
        # pick the discovery method you'd like to use:
        discovery-method = kubernetes-api

        #required-contact-point-nr = ${REQUIRED_CONTACT_POINT_NR}
      }
    }
  }

  cluster {
    downing-provider-class = "akka.cluster.sbr.SplitBrainResolverProvider"
  }

}

slick-postgres {
  profile = "slick.jdbc.PostgresProfile$"
  db {
    dataSourceClass = "slick.jdbc.DriverDataSource"
    properties = {
      driver = "org.postgresql.Driver"
      url = "jdbc:postgresql://db:5432/telegraft"
      user = ${DB_USER}
      password = ${DB_PASS}
    }
  }
}
