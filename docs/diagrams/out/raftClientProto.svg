<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="435px" preserveAspectRatio="none" style="width:788px;height:435px;background:#FFFFFF;" version="1.1" viewBox="0 0 788 435" width="788px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="47.2422" id="_legend" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1.0;" width="200" x="562.44" y="12"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="5" x="567.44" y="32.1074">-</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="9" x="576.44" y="32.1074">A</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="585.44" y="32.1074">: Client sends write request</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="5" x="567.44" y="50.7285">-</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="10" x="576.44" y="50.7285">B</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="586.44" y="50.7285">: Client sends read request</text><!--MD5=[c302a92f1eee4692fb04ea3bce6f4296]
entity raft1--><g id="elem_raft1"><rect fill="#F1F1F1" height="48.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="188" x="247.44" y="252.7422"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="415.44" y="257.7422"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="413.44" y="259.7422"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="413.44" y="263.7422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="262.44" y="287.8496">telegraft-raft-service #1</text></g><!--MD5=[e0865a4f512d458b7c6d59862ec10a8e]
entity raft2--><g id="elem_raft2"><rect fill="#F1F1F1" height="48.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="188" x="88.44" y="380.7422"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="256.44" y="385.7422"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="254.44" y="387.7422"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="254.44" y="391.7422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="103.44" y="415.8496">telegraft-raft-service #2</text></g><!--MD5=[3b15c52a195c2f7795cd6db2c307c8fd]
entity raft3--><g id="elem_raft3"><rect fill="#F1F1F1" height="48.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="188" x="407.44" y="380.7422"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="575.44" y="385.7422"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="573.44" y="387.7422"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="573.44" y="391.7422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="422.44" y="415.8496">telegraft-raft-service #3</text></g><!--MD5=[31b50539c062e48f418cd0b43b66a14f]
entity sm--><g id="elem_sm"><rect fill="#F1F1F1" height="48.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="251" x="95.94" y="92.7422"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="326.94" y="97.7422"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="324.94" y="99.7422"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="324.94" y="103.7422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="110.94" y="127.8496">telegraft-statemachine-service #1</text></g><!--MD5=[8e9b2d9d80e066cced8e5d90e9bdea61]
entity c--><g id="elem_c"><ellipse cx="461.44" cy="86.2422" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M461.44,94.2422 L461.44,121.2422 M448.44,102.2422 L474.44,102.2422 M461.44,121.2422 L448.44,136.2422 M461.44,121.2422 L474.44,136.2422 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="443.44" y="152.8496">Client</text></g><!--MD5=[301d7b6851e026472aca803fc81c31e6]
link c to raft1--><g id="link_c_raft1"><path d="M443.21,142.2422 C421.59,170.7122 385.6,218.0922 362.72,248.2222 " fill="none" id="c-to-raft1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="359.44,252.5422,368.07,247.7963,362.4651,248.5611,361.7002,242.9562,359.44,252.5422" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="410.44" y="201.7705">A.1: ClientRequest()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="414.44" y="219.0615">B.1: ClientQuery()</text></g><!--MD5=[87fee3965a3e31b4e0504ef0f3d5a94c]
reverse link c to raft1--><g id="link_c_raft1"><path d="M484.21,131.4522 C515.57,151.3222 565.5,190.0522 540.44,222.7422 C527.03,240.2422 480.4,253.2922 435.66,262.1222 " fill="none" id="c-backto-raft1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="479.73,128.6622,485.2543,136.8158,483.974,131.3058,489.4841,130.0254,479.73,128.6622" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="547.44" y="201.7705">A.8: ClientRequestResponse()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="551.44" y="219.0615">B.4: ClientQueryResponse()</text></g><!--MD5=[037c917e8dbb4c4b6959ab7964b6f9b7]
reverse link sm to raft1--><g id="link_sm_raft1"><path d="M163.97,144.2622 C127.57,164.3622 91.36,193.5922 114.44,222.7422 C131.28,244.0122 192.68,257.6722 247.39,265.8622 " fill="none" id="sm-backto-raft1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="168.4,141.8522,158.5826,142.6391,164.0078,144.2414,162.4054,149.6666,168.4,141.8522" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="115.44" y="210.2705">A.6, B.2: Request</text></g><!--MD5=[d9c7d96934769881133956561d2c680d]
link sm to raft1--><g id="link_sm_raft1"><path d="M225.83,141.9322 C231,164.6022 241.39,198.8022 260.44,222.7422 C268.68,233.1022 279.5,242.1422 290.53,249.7022 " fill="none" id="sm-to-raft1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="294.93,252.6322,289.6801,244.2992,290.7763,249.8488,285.2267,250.945,294.93,252.6322" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="261.44" y="210.2705">A.7, B.3: Response</text></g><!--MD5=[4bbb1b2f1f674c73824f3481f6ca895b]
link raft1 to raft2--><g id="link_raft1_raft2"><path d="M247.28,281.4222 C165.83,286.3922 56.94,299.1222 29.44,331.7422 C6,359.5522 40.96,377.4122 83.34,388.4522 " fill="none" id="raft1-to-raft2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="88.27,389.6922,80.5299,383.6019,83.4235,388.4627,78.5627,391.3563,88.27,389.6922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="30.44" y="346.7705">A.2: AppendEntriesRequest</text></g><!--MD5=[2ee3bdf1e622603dbcaa8274753d7123]
reverse link raft1 to raft2--><g id="link_raft1_raft2"><path d="M275.17,304.0522 C260.2,311.6422 245.03,320.8922 232.44,331.7422 C216.58,345.4222 203.37,365.2222 194.52,380.6822 " fill="none" id="raft1-backto-raft2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="279.81,301.7422,269.9702,302.1643,275.3322,303.9668,273.5296,309.3288,279.81,301.7422" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="233.44" y="346.7705">A.4: AppendEntriesResponse</text></g><!--MD5=[ce3f7d90a4e97d60f0f46d2d9fb0e73c]
link raft1 to raft3--><g id="link_raft1_raft3"><path d="M371.57,301.9422 C383.38,311.2322 397.05,321.9822 409.44,331.7422 C428.59,346.8222 449.97,363.6722 467.3,377.3222 " fill="none" id="raft1-to-raft3" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="471.61,380.7322,467.038,372.0088,467.6904,377.6279,462.0712,378.2803,471.61,380.7322" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="433.44" y="346.7705">A.3: AppendEntriesRequest</text></g><!--MD5=[04cd4003897486efec6bbf013b43cda5]
reverse link raft1 to raft3--><g id="link_raft1_raft3"><path d="M440.59,285.6422 C505.82,292.8122 582.8,306.4622 603.44,331.7422 C619.45,351.3522 599.76,368.1222 573.55,380.5822 " fill="none" id="raft1-backto-raft3" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="435.52,285.1022,444.0467,290.0313,440.492,285.6308,444.8925,282.0761,435.52,285.1022" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="609.44" y="346.7705">A.5: AppendEntriesResponse</text></g><!--MD5=[9fcccdc58c519b6fcca80692d9c47ae3]
@startuml raftClientProto

skinparam defaultTextAlignment left
legend top right
- **A**: Client sends write request
- **B**: Client sends read request
endlegend

component "telegraft-raft-service #1" as raft1
component "telegraft-raft-service #2" as raft2
component "telegraft-raft-service #3" as raft3

component "telegraft-statemachine-service #1" as sm
actor Client as c

c - -> raft1: A.1: ClientRequest() \n B.1: ClientQuery()
c <- - raft1: A.8: ClientRequestResponse() \n B.4: ClientQueryResponse()

sm <- - raft1: A.6, B.2: Request
sm - -> raft1: A.7, B.3: Response

raft1 - -> raft2: A.2: AppendEntriesRequest
raft1 <- - raft2: A.4: AppendEntriesResponse

raft1 - -> raft3: A.3: AppendEntriesRequest
raft1 <- - raft3: A.5: AppendEntriesResponse

@enduml

PlantUML version 1.2022.13(Sat Nov 19 14:22:17 CET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: it
Country: IT
--></g></svg>