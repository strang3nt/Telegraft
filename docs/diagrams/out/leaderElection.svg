<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="342px" preserveAspectRatio="none" style="width:993px;height:342px;background:#FFFFFF;" version="1.1" viewBox="0 0 993 342" width="993px" zoomAndPan="magnify"><defs/><g><!--MD5=[479411783acfc764e421f3306ba5b3b9]
cluster 2--><g id="cluster_2"><rect fill="#CAF1DE" height="324.5" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="547" x="7" y="7.188"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="84" x="238.5" y="26.292">RaftServer</text></g><!--MD5=[25f61894f83a3e4752ab1a6aff8584b4]
cluster 1--><g id="cluster_1"><rect fill="#FFCCCB" height="138" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="350" x="637" y="198.188"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="84" x="770" y="217.292">RaftServer</text></g><!--MD5=[e32773a0da76c445e84e5885468a4484]
entity e--><g id="elem_e"><path d="M140,252.688 C140,242.688 177,242.688 177,242.688 C177,242.688 214,242.688 214,252.688 L214,305.2721 C214,315.2721 177,315.2721 177,315.2721 C177,315.2721 140,315.2721 140,305.2721 L140,252.688 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M140,252.688 C140,262.688 177,262.688 177,262.688 C177,262.688 214,262.688 214,252.688 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="42" x="150" y="283.792">Event</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="54" x="150" y="305.5841">journal</text></g><!--MD5=[8e9b2d9d80e066cced8e5d90e9bdea61]
entity c--><g id="elem_c"><ellipse cx="313" cy="55.688" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M313,63.688 L313,90.688 M300,71.688 L326,71.688 M313,90.688 L300,105.688 M313,90.688 L326,105.688 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="77" x="274.5" y="124.292">Candidate</text></g><!--MD5=[8f89c3b771be60a8fe1c771d5b27a045]
entity f--><g id="elem_f"><ellipse cx="686" cy="246.688" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M686,254.688 L686,281.688 M673,262.688 L699,262.688 M686,281.688 L673,296.688 M686,281.688 L699,296.688 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="65" x="653.5" y="315.292">Follower</text></g><!--MD5=[c807758c2e9e0d1754c3d4b69a0f6713]
entity i--><g id="elem_i"><path d="M897,252.688 C897,242.688 934,242.688 934,242.688 C934,242.688 971,242.688 971,252.688 L971,305.2721 C971,315.2721 934,315.2721 934,315.2721 C934,315.2721 897,315.2721 897,305.2721 L897,252.688 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M897,252.688 C897,262.688 934,262.688 934,262.688 C934,262.688 971,262.688 971,252.688 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="42" x="907" y="283.792">Event</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="54" x="907" y="305.5841">journal</text></g><!--MD5=[2ffac5b5e2441fa59e343a9f03a47ef2]
link c to c--><g id="link_c_c"><path d="M351.95,73.058 C370.34,71.298 386.5,76.348 386.5,88.188 C386.5,98.648 373.91,103.798 358.3,103.658 " fill="none" id="c-to-c" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="353.46,103.398,362.242,107.8563,358.4534,103.6555,362.6541,99.8669,353.46,103.398" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="9" x="392.5" y="94.792">1</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="123" x="405.5" y="94.792">ElectionTimeout</text></g><!--MD5=[a7735e767aa86eebe444b5075fc993c7]
link c to e--><g id="link_c_e"><path d="M274.19,93.978 C208.9,102.908 81.57,124.448 55,159.188 C24.58,198.968 87.72,238.168 133.99,260.158 " fill="none" id="c-to-e" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="138.46,262.248,131.9972,254.8162,133.9294,260.1328,128.6128,262.0651,138.46,262.248" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="9" x="56" y="177.292">2</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="165" x="69" y="177.292">ElectionTimeoutEvent</text><path d="M239.2375,168.2301 C239.1,168.2301 239,168.3301 239,168.4676 L239,172.6051 C239,172.9551 239.275,173.2301 239.625,173.2301 L247.125,173.2301 C247.475,173.2301 247.75,172.9551 247.75,172.6051 L247.75,168.4676 C247.75,168.3301 247.65,168.2301 247.5125,168.2301 L239.225,168.2301 M239,174.3676 L239,178.0051 C239,178.1426 239.1,178.2426 239.2375,178.2426 L247.525,178.2426 C247.6625,178.2426 247.7625,178.1426 247.7625,178.0051 L247.7625,174.3676 C247.5625,174.4426 247.3625,174.4801 247.1375,174.4801 L239.6375,174.4801 C239.4125,174.4801 239.2125,174.4301 239.0125,174.3676 M245.875,175.7301 C246.225,175.7301 246.5,176.0051 246.5,176.3551 C246.5,176.7051 246.225,176.9801 245.875,176.9801 C245.525,176.9801 245.25,176.7051 245.25,176.3551 C245.25,176.0051 245.525,175.7301 245.875,175.7301 " fill="#000000" style="stroke:;stroke-width:0.0;stroke-dasharray:;"/></g><!--MD5=[a7735e767aa86eebe444b5075fc993c7]
link c to e--><g id="link_c_e"><path d="M289.51,129.268 C279.35,145.938 267.05,165.308 255,182.188 C241.54,201.038 225.58,221.048 211.61,237.888 " fill="none" id="c-to-e-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="208.69,241.388,217.523,237.0315,211.8895,237.5457,211.3753,231.9123,208.69,241.388" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="9" x="272" y="177.292">6</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="213" x="285" y="177.292">RequestVoteResponseEvent</text><path d="M503.2375,168.2301 C503.1,168.2301 503,168.3301 503,168.4676 L503,172.6051 C503,172.9551 503.275,173.2301 503.625,173.2301 L511.125,173.2301 C511.475,173.2301 511.75,172.9551 511.75,172.6051 L511.75,168.4676 C511.75,168.3301 511.65,168.2301 511.5125,168.2301 L503.225,168.2301 M503,174.3676 L503,178.0051 C503,178.1426 503.1,178.2426 503.2375,178.2426 L511.525,178.2426 C511.6625,178.2426 511.7625,178.1426 511.7625,178.0051 L511.7625,174.3676 C511.5625,174.4426 511.3625,174.4801 511.1375,174.4801 L503.6375,174.4801 C503.4125,174.4801 503.2125,174.4301 503.0125,174.3676 M509.875,175.7301 C510.225,175.7301 510.5,176.0051 510.5,176.3551 C510.5,176.7051 510.225,176.9801 509.875,176.9801 C509.525,176.9801 509.25,176.7051 509.25,176.3551 C509.25,176.0051 509.525,175.7301 509.875,175.7301 " fill="#000000" style="stroke:;stroke-width:0.0;stroke-dasharray:;"/></g><!--MD5=[f15c69505a80b2add5b1de1ad3d5a81e]
link c to f--><g id="link_c_f"><path d="M351.98,98.318 C395.27,109.318 466.47,130.038 523,159.188 C569.11,182.968 616.41,219.058 648.1,245.258 " fill="none" id="c-to-f" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="651.89,248.398,647.5141,239.5747,648.0407,245.207,642.4084,245.7335,651.89,248.398" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="9" x="563" y="177.292">3</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="97" x="576" y="177.292">RequestVote</text><path d="M678,168.2301 L678,169.4801 L683,171.9801 L688,169.4801 L688,168.2301 L678,168.2301 M678,170.7301 L678,175.7301 L688,175.7301 L688,170.7301 L683,173.2301 L678,170.7301 " fill="#000000" style="stroke:;stroke-width:0.0;stroke-dasharray:;"/></g><!--MD5=[c32e70a63422f2b6e9da784439df6a63]
link f to c--><g id="link_f_c"><path d="M707.95,237.828 C718.41,212.568 725.12,180.818 707,159.188 C662.89,106.548 451.91,93.468 358.12,90.238 " fill="none" id="f-to-c" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="353.36,90.078,362.2295,94.3596,358.3575,90.2355,362.4815,86.3635,353.36,90.078" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="9" x="718" y="177.292">5</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="171" x="731" y="177.292">RequestVoteResponse</text><path d="M907,168.2301 L907,169.4801 L912,171.9801 L917,169.4801 L917,168.2301 L907,168.2301 M907,170.7301 L907,175.7301 L917,175.7301 L917,170.7301 L912,173.2301 L907,170.7301 " fill="#000000" style="stroke:;stroke-width:0.0;stroke-dasharray:;"/></g><!--MD5=[034727fa017c18056ebdaa47ecc2dfb1]
link f to i--><g id="link_f_i"><path d="M718.93,279.188 C763.07,279.188 841.5,279.188 890.47,279.188 " fill="none" id="f-to-i" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="895.37,279.188,886.37,275.188,890.37,279.188,886.37,283.188,895.37,279.188" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="9" x="736.75" y="271.292">4</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="113" x="749.75" y="271.292">VoteExpressed</text><path d="M867.9875,262.2301 C867.85,262.2301 867.75,262.3301 867.75,262.4676 L867.75,266.6051 C867.75,266.9551 868.025,267.2301 868.375,267.2301 L875.875,267.2301 C876.225,267.2301 876.5,266.9551 876.5,266.6051 L876.5,262.4676 C876.5,262.3301 876.4,262.2301 876.2625,262.2301 L867.975,262.2301 M867.75,268.3676 L867.75,272.0051 C867.75,272.1426 867.85,272.2426 867.9875,272.2426 L876.275,272.2426 C876.4125,272.2426 876.5125,272.1426 876.5125,272.0051 L876.5125,268.3676 C876.3125,268.4426 876.1125,268.4801 875.8875,268.4801 L868.3875,268.4801 C868.1625,268.4801 867.9625,268.4301 867.7625,268.3676 M874.625,269.7301 C874.975,269.7301 875.25,270.0051 875.25,270.3551 C875.25,270.7051 874.975,270.9801 874.625,270.9801 C874.275,270.9801 874,270.7051 874,270.3551 C874,270.0051 874.275,269.7301 874.625,269.7301 " fill="#000000" style="stroke:;stroke-width:0.0;stroke-dasharray:;"/></g><!--MD5=[6e58bb464891f874da92075c01e0f666]
@startuml leaderElection

skinparam componentStyle rectangle
skinparam defaultFontSize 16

rectangle RaftServer as 2 #CAF1DE {
  database e [
    Event
    journal
  ]
  actor Candidate as c
}

rectangle RaftServer as 1  #ffcccb{

  actor Follower as f
    database i [
      Event
      journal
    ]

}

c - -> c: **1** ElectionTimeout
c -> e: **2** ElectionTimeoutEvent <size:15><&hard-drive></size>
c - -> f: **3** RequestVote <size:15><&envelope-closed></size>
f -> i: **4** VoteExpressed <size:15><&hard-drive></size>
f -> c: **5** RequestVoteResponse <size:15><&envelope-closed></size>
c - -> e: **6** RequestVoteResponseEvent <size:15><&hard-drive></size>

@enduml

PlantUML version 1.2022.12(Sun Oct 23 20:12:26 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: it
Country: IT
--></g></svg>