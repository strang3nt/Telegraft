<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="415px" preserveAspectRatio="none" style="width:957px;height:415px;background:#FFFFFF;" version="1.1" viewBox="0 0 957 415" width="957px" zoomAndPan="magnify"><defs/><g><!--MD5=[479411783acfc764e421f3306ba5b3b9]
cluster 2--><g id="cluster_2"><rect fill="#CAF1DE" height="240" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="435" x="218.5" y="7.188"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="84" x="394" y="26.292">RaftServer</text></g><!--MD5=[25f61894f83a3e4752ab1a6aff8584b4]
cluster 1--><g id="cluster_1"><rect fill="#FFCCCB" height="138" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="399.5" x="552" y="271.188"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="84" x="709.75" y="290.292">RaftServer</text></g><!--MD5=[e32773a0da76c445e84e5885468a4484]
entity e--><g id="elem_e"><path d="M563.5,136.688 C563.5,126.688 600.5,126.688 600.5,126.688 C600.5,126.688 637.5,126.688 637.5,136.688 L637.5,189.2721 C637.5,199.2721 600.5,199.2721 600.5,199.2721 C600.5,199.2721 563.5,199.2721 563.5,189.2721 L563.5,136.688 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M563.5,136.688 C563.5,146.688 600.5,146.688 600.5,146.688 C600.5,146.688 637.5,146.688 637.5,136.688 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="42" x="573.5" y="167.792">Event</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="54" x="573.5" y="189.5841">journal</text></g><!--MD5=[baa2ecd00d74afb0d8de1b5208cc46a6]
entity l--><g id="elem_l"><ellipse cx="260.5" cy="157.688" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M260.5,165.688 L260.5,192.688 M247.5,173.688 L273.5,173.688 M260.5,192.688 L247.5,207.688 M260.5,192.688 L273.5,207.688 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="52" x="234.5" y="226.292">Leader</text></g><!--MD5=[8f89c3b771be60a8fe1c771d5b27a045]
entity f--><g id="elem_f"><ellipse cx="600.5" cy="319.688" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M600.5,327.688 L600.5,354.688 M587.5,335.688 L613.5,335.688 M600.5,354.688 L587.5,369.688 M600.5,354.688 L613.5,369.688 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="65" x="568" y="388.292">Follower</text></g><!--MD5=[c807758c2e9e0d1754c3d4b69a0f6713]
entity i--><g id="elem_i"><path d="M861.5,325.688 C861.5,315.688 898.5,315.688 898.5,315.688 C898.5,315.688 935.5,315.688 935.5,325.688 L935.5,378.2721 C935.5,388.2721 898.5,388.2721 898.5,388.2721 C898.5,388.2721 861.5,388.2721 861.5,378.2721 L861.5,325.688 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M861.5,325.688 C861.5,335.688 898.5,335.688 898.5,335.688 C898.5,335.688 935.5,335.688 935.5,325.688 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="42" x="871.5" y="356.792">Event</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="54" x="871.5" y="378.5841">journal</text></g><!--MD5=[8e9b2d9d80e066cced8e5d90e9bdea61]
entity c--><g id="elem_c"><ellipse cx="27.5" cy="191.188" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="43" x="6" y="225.292">Client</text></g><!--MD5=[d9c092d794f61181865a0bf31f714dd4]
link c to l--><g id="link_c_l"><path d="M37,191.148 C67.73,191.018 174.18,190.558 227.93,190.328 " fill="none" id="c-to-l" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="232.7,190.308,223.6773,186.3595,227.7001,190.3366,223.723,194.3594,232.7,190.308" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="9" x="67.5" y="186.292">1</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="105" x="80.5" y="186.292">ClientRequest</text><path d="M190.5,177.2301 L190.5,178.4801 L195.5,180.9801 L200.5,178.4801 L200.5,177.2301 L190.5,177.2301 M190.5,179.7301 L190.5,184.7301 L200.5,184.7301 L200.5,179.7301 L195.5,182.2301 L190.5,179.7301 " fill="#000000" style="stroke:;stroke-width:0.0;stroke-dasharray:;"/></g><!--MD5=[9142fd579294ab5be8adc9321ab838d2]
link l to c--><g id="link_l_c"><path d="M234.03,208.158 C224.58,213.808 213.48,219.318 202.5,222.188 C144.02,237.478 123.44,242.468 66.5,222.188 C56.72,218.708 47.64,211.518 40.81,204.928 " fill="none" id="l-to-c" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="37.53,201.608,41.0098,210.8217,41.044,205.1649,46.7008,205.1992,37.53,201.608" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="9" x="83" y="217.292">9</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="74" x="96" y="217.292">Response</text><path d="M175,208.2301 L175,209.4801 L180,211.9801 L185,209.4801 L185,208.2301 L175,208.2301 M175,210.7301 L175,215.7301 L185,215.7301 L185,210.7301 L180,213.2301 L175,210.7301 " fill="#000000" style="stroke:;stroke-width:0.0;stroke-dasharray:;"/></g><!--MD5=[b50929fd0b609f433ce7437db00ab423]
link l to e--><g id="link_l_e"><path d="M286.73,195.398 C335.35,204.478 445.02,220.198 533.5,198.188 C541.52,196.188 549.64,193.018 557.32,189.378 " fill="none" id="l-to-e" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="561.73,187.188,551.8907,187.6226,557.255,189.4184,555.4593,194.7826,561.73,187.188" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="9" x="337" y="193.292">2</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="147" x="350" y="193.292">ClientRequestEvent</text><path d="M502.2375,184.2301 C502.1,184.2301 502,184.3301 502,184.4676 L502,188.6051 C502,188.9551 502.275,189.2301 502.625,189.2301 L510.125,189.2301 C510.475,189.2301 510.75,188.9551 510.75,188.6051 L510.75,184.4676 C510.75,184.3301 510.65,184.2301 510.5125,184.2301 L502.225,184.2301 M502,190.3676 L502,194.0051 C502,194.1426 502.1,194.2426 502.2375,194.2426 L510.525,194.2426 C510.6625,194.2426 510.7625,194.1426 510.7625,194.0051 L510.7625,190.3676 C510.5625,190.4426 510.3625,190.4801 510.1375,190.4801 L502.6375,190.4801 C502.4125,190.4801 502.2125,190.4301 502.0125,190.3676 M508.875,191.7301 C509.225,191.7301 509.5,192.0051 509.5,192.3551 C509.5,192.7051 509.225,192.9801 508.875,192.9801 C508.525,192.9801 508.25,192.7051 508.25,192.3551 C508.25,192.0051 508.525,191.7301 508.875,191.7301 " fill="#000000" style="stroke:;stroke-width:0.0;stroke-dasharray:;"/></g><!--MD5=[b50929fd0b609f433ce7437db00ab423]
link l to e--><g id="link_l_e"><path d="M286.81,179.638 C296,176.298 306.56,172.998 316.5,171.188 C400.77,155.818 501.47,157.668 557.16,160.418 " fill="none" id="l-to-e-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="561.89,160.658,553.1073,156.201,556.8966,160.4012,552.6964,164.1905,561.89,160.658" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="9" x="341.5" y="154.292">8</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="138" x="354.5" y="154.292">AnsweredToClient</text><path d="M497.7375,145.2301 C497.6,145.2301 497.5,145.3301 497.5,145.4676 L497.5,149.6051 C497.5,149.9551 497.775,150.2301 498.125,150.2301 L505.625,150.2301 C505.975,150.2301 506.25,149.9551 506.25,149.6051 L506.25,145.4676 C506.25,145.3301 506.15,145.2301 506.0125,145.2301 L497.725,145.2301 M497.5,151.3676 L497.5,155.0051 C497.5,155.1426 497.6,155.2426 497.7375,155.2426 L506.025,155.2426 C506.1625,155.2426 506.2625,155.1426 506.2625,155.0051 L506.2625,151.3676 C506.0625,151.4426 505.8625,151.4801 505.6375,151.4801 L498.1375,151.4801 C497.9125,151.4801 497.7125,151.4301 497.5125,151.3676 M504.375,152.7301 C504.725,152.7301 505,153.0051 505,153.3551 C505,153.7051 504.725,153.9801 504.375,153.9801 C504.025,153.9801 503.75,153.7051 503.75,153.3551 C503.75,153.0051 504.025,152.7301 504.375,152.7301 " fill="#000000" style="stroke:;stroke-width:0.0;stroke-dasharray:;"/></g><!--MD5=[a75f3b595fadf964344f0e1da1940e9e]
link l to l--><g id="link_l_l"><path d="M248.87,148.758 C247.76,130.218 251.64,114.188 260.5,114.188 C268.32,114.188 272.26,126.678 272.31,142.368 " fill="none" id="l-to-l" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="272.17,147.238,276.4261,138.3563,272.3132,142.2401,268.4294,138.1271,272.17,147.238" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="9" x="163.5" y="104.292">3</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="165" x="176.5" y="104.292">ApplyToStateMachine</text><path d="M346.5,95.2301 L346.5,96.4801 L351.5,98.9801 L356.5,96.4801 L356.5,95.2301 L346.5,95.2301 M346.5,97.7301 L346.5,102.7301 L356.5,102.7301 L356.5,97.7301 L351.5,100.2301 L346.5,97.7301 " fill="#000000" style="stroke:;stroke-width:0.0;stroke-dasharray:;"/></g><!--MD5=[a75f3b595fadf964344f0e1da1940e9e]
link l to l--><g id="link_l_l"><path d="M240.41,148.918 C231.96,114.768 238.66,79.188 260.5,79.188 C281.06,79.188 288.2,110.718 281.92,142.908 " fill="none" id="l-to-l-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="280.92,147.438,286.755,139.5037,281.991,142.5541,278.9407,137.7901,280.92,147.438" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="9" x="143" y="69.292">7</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="206" x="156" y="69.292">WrappedResponseToClient</text><path d="M367,60.2301 L367,61.4801 L372,63.9801 L377,61.4801 L377,60.2301 L367,60.2301 M367,62.7301 L367,67.7301 L377,67.7301 L377,62.7301 L372,65.2301 L367,62.7301 " fill="#000000" style="stroke:;stroke-width:0.0;stroke-dasharray:;"/></g><!--MD5=[7c5ae9903a99e49b99ffdd1eb1c4cbd1]
link l to f--><g id="link_l_f"><path d="M286.93,218.308 C295.64,226.618 305.87,235.108 316.5,241.188 C403.9,291.158 442.84,262.408 533.5,306.188 C543.28,310.908 553.2,317.008 562.29,323.208 " fill="none" id="l-to-f" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="566.29,325.998,561.193,317.5706,562.1878,323.1393,556.6191,324.1342,566.29,325.998" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="9" x="354.5" y="236.292">4</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="112" x="367.5" y="236.292">AppendEntries</text><path d="M484.5,227.2301 L484.5,228.4801 L489.5,230.9801 L494.5,228.4801 L494.5,227.2301 L484.5,227.2301 M484.5,229.7301 L484.5,234.7301 L494.5,234.7301 L494.5,229.7301 L489.5,232.2301 L484.5,229.7301 " fill="#000000" style="stroke:;stroke-width:0.0;stroke-dasharray:;"/></g><!--MD5=[8505259bb9e1512903c49072366a99bb]
link f to l--><g id="link_f_l"><path d="M567.8,360.738 C511.26,373.958 391.88,392.478 316.5,337.188 C285.16,314.198 271.67,271.198 265.87,237.618 " fill="none" id="f-to-l" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="265.11,232.958,262.6037,242.4826,265.9111,237.8934,270.5003,241.2009,265.11,232.958" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="9" x="317.5" y="332.292">6</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="186" x="330.5" y="332.292">AppendEntriesResponse</text><path d="M521.5,323.2301 L521.5,324.4801 L526.5,326.9801 L531.5,324.4801 L531.5,323.2301 L521.5,323.2301 M521.5,325.7301 L521.5,330.7301 L531.5,330.7301 L531.5,325.7301 L526.5,328.2301 L521.5,325.7301 " fill="#000000" style="stroke:;stroke-width:0.0;stroke-dasharray:;"/></g><!--MD5=[034727fa017c18056ebdaa47ecc2dfb1]
link f to i--><g id="link_f_i"><path d="M633.46,352.188 C686.97,352.188 794.72,352.188 854.71,352.188 " fill="none" id="f-to-i" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="859.56,352.188,850.56,348.188,854.56,352.188,850.56,356.188,859.56,352.188" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="9" x="670.5" y="347.292">5</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="131" x="683.5" y="347.292">EntriesAppended</text><path d="M819.7375,338.2301 C819.6,338.2301 819.5,338.3301 819.5,338.4676 L819.5,342.6051 C819.5,342.9551 819.775,343.2301 820.125,343.2301 L827.625,343.2301 C827.975,343.2301 828.25,342.9551 828.25,342.6051 L828.25,338.4676 C828.25,338.3301 828.15,338.2301 828.0125,338.2301 L819.725,338.2301 M819.5,344.3676 L819.5,348.0051 C819.5,348.1426 819.6,348.2426 819.7375,348.2426 L828.025,348.2426 C828.1625,348.2426 828.2625,348.1426 828.2625,348.0051 L828.2625,344.3676 C828.0625,344.4426 827.8625,344.4801 827.6375,344.4801 L820.1375,344.4801 C819.9125,344.4801 819.7125,344.4301 819.5125,344.3676 M826.375,345.7301 C826.725,345.7301 827,346.0051 827,346.3551 C827,346.7051 826.725,346.9801 826.375,346.9801 C826.025,346.9801 825.75,346.7051 825.75,346.3551 C825.75,346.0051 826.025,345.7301 826.375,345.7301 " fill="#000000" style="stroke:;stroke-width:0.0;stroke-dasharray:;"/></g><!--MD5=[58150c014bfcde75cc81834638d03e41]
@startuml logReplication

skinparam componentStyle rectangle
left to right direction

skinparam defaultFontSize 16

circle Client as c

rectangle RaftServer as 2 #CAF1DE {
  database e [
    Event
    journal
  ]
  actor Leader as l
}

rectangle RaftServer as 1 #ffcccb {

  actor Follower as f
    database i [
      Event
      journal
    ]

}

c - -> l: **1** ClientRequest <size:15><&envelope-closed></size>
l - -> e: **2** ClientRequestEvent <size:15><&hard-drive></size>
l - -> l: **3** ApplyToStateMachine <size:15><&envelope-closed></size>
l - -> f: **4** AppendEntries <size:15><&envelope-closed></size>
f - -> i: **5** EntriesAppended <size:15><&hard-drive></size>
f - -> l: **6** AppendEntriesResponse <size:15><&envelope-closed></size>
l - -> l: **7** WrappedResponseToClient <size:15><&envelope-closed></size>
l - -> e: **8** AnsweredToClient <size:15><&hard-drive></size>
l - -> c: **9** Response <size:15><&envelope-closed></size>

@enduml

PlantUML version 1.2022.12(Sun Oct 23 20:12:26 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: it
Country: IT
--></g></svg>